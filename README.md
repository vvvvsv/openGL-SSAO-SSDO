# SSDO大作业使用说明

王思远 2022.07.03

## 包含文件

###### （1）build文件夹中的文件，为项目build之后的文件。

###### （2）data文件夹中的文件

包含提示信息图片(image文件夹下)，模型及其纹理贴图(Luminaris文件夹下)，天空盒贴图(skybox文件夹下)，以及天空盒的替换贴图(skybox_redblue文件夹)。

###### （3）src文件夹下的文件，为各种源代码，包含

①多个自定义的Render类

renderer_cube_quad.h，渲染正方形和立方体的渲染类

renderer_image.h，渲染提示信息的渲染类

renderer_off.h，延迟渲染的渲染类

renderer_ssao.h，使用AO的渲染类

renderer_ssdo.h，使用DO的渲染类

renderer_both.h，AO和DO同时使用的渲染类

②读取模型的类

utils_mesh.h

utils_model.h

③相机与灯（点光源）的类

utils_camera.h，相机类

utils_light.h，灯（点光源）类

④着色器类，这里我们将着色器的读取、链接、使用、清除等封装成一个类，方便使用。

utils_shader_program.h

⑤shader文件夹下，为各类着色器的glsl文件

image文件夹下是绘制提示信息使用的着色器

off文件夹下是延迟着色法使用的着色器

ssao文件夹下是SSAO使用的着色器

ssdo文件夹下是SSDO使用的着色器

both文件夹下是SSAO与SSDO结合使用的着色器

⑥main.cpp，即包含主函数的代码文件。

###### （4）third_party文件夹下的文件，为第三方库的文件。

## 使用的第三方库

本项目使用的第三方库有assimp, glew, glfw, glm, stb.

## 编译和运行

项目使用cmake管理，直接使用cmake编译即可。编译成功后运行`build/src/Debug/SSDO.exe`即可。

## 基本功能

本程序可以展示一个飞船模型和在其上使用SSAO（屏幕空间环境光遮蔽）、SSDO（屏幕空间方向性遮蔽）技术的效果。用户可以自由地操纵摄像机、更改渲染模式以更好地观察这两种技术产生的效果。

## 交互操作

**交互操作需要使用英文输入法或者中英输入法的英文模式！**

#### 控制视点

按住WASD可以根据当前视角前后左右移动摄像机，按住QE可以在竖直方向上移动摄像机（Q向上，E向下）。按住左shift可以移动得更快。

移动鼠标可以旋转摄像机的朝向，滚动鼠标滚轮可以缩放视野。

#### 锁定摄像机

按下U锁定摄像机，无法移动；按下I解锁摄像机。默认情况下摄像机可以自由移动。

#### 更改渲染模式

按下1进入普通模式（不使用这两种渲染技术）；按下2进入SSAO模式，只使用SSAO进行渲染；按下3进入SSDO模式，只使用SSDO进行渲染；按下4进入SSAO&SSDO模式，同时使用SSAO和SSDO进行渲染。

#### 显示当前信息

按下O可以在窗口最下方显示当前渲染模式以及摄像机是否锁定的信息；按下P隐藏该信息。默认情况下显示信息。

#### 更改模型是否有贴图纹理

按下K，显示无贴图纹理的模型（白模）；按下L，显示正常的有贴图纹理的模型。默认情况下模型有贴图纹理。    
